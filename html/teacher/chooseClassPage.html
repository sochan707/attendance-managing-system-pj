<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Select a Class</title>

<link href="https://unpkg.com/@phosphor-icons/web@2.0.3/src/regular/style.css" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

<script>
  tailwind.config = {
    theme: {
      extend: {
        colors: {
          primary: "#2A4759",
          accent: "#F79B72",
          light: "#EEEEEE",
          muted: "#DDDDDD",
        }
      }
    }
  }
</script>
</head>

<body class="bg-light text-gray-800 min-h-screen">

<!-- ================= NAVBAR ================= -->
<nav class="bg-primary w-full shadow-lg px-6">
  <div class="w-full max-w-[1600px] mx-auto flex justify-between items-center px-6 py-4">
    <!-- LEFT -->
    <div class="flex items-center gap-4">
      <div class="text-accent font-bold text-3xl tracking-wide">Tick</div>
    </div>

    <!-- RIGHT -->
    <div class="flex items-center gap-6 text-light font-medium">
      <a href="./teacherDashboard.html" class="hover:text-accent transition">
        Dashboard
      </a>
      <a href="./chooseClassPage.html" class="hover:text-accent transition">Classes</a>
      <i class="material-icons text-4xl text-accent cursor-pointer">account_circle</i>
      <a href="../homePage.html">
        <button class="w-24 h-8 bg-accent text-white rounded-lg duration-150 hover:bg-light hover:text-accent">
          Logout
        </button>
      </a>
    </div>
  </div>
</nav>

<!-- ================= CONTENT ================= -->
<div class="max-w-[1450px] mx-auto p-6 space-y-6">

  <!-- HEADER -->
  <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
    <div>
      <h1 class="text-3xl font-bold text-primary">Select a Class</h1>
      <p class="text-accent mt-1">
        Good Morning, Mr. Anderson. Choose a session to record attendance.
      </p>
    </div>

    <div class="flex items-center gap-2 bg-white px-4 py-2 rounded-lg border border-muted">
      <i class="ph ph-calendar text-primary"></i>
      <span class="font-medium">Monday, Oct 24th, 2023</span>
    </div>
  </div>

  <!-- STATS -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <div class="bg-white rounded-xl border border-muted p-6">
      <p class="text-gray-500 text-sm uppercase">Total Classes Today</p>
      <p class="text-4xl font-bold mt-2 text-primary">4</p>
    </div>

    <div class="bg-white rounded-xl border border-muted p-6 flex justify-between items-center">
      <div>
        <p class="text-gray-500 text-sm uppercase">Attendance Completion</p>
        <p class="text-3xl font-bold mt-2 text-primary">50%</p>
        <p class="text-sm text-gray-500">2/4 completed</p>
      </div>
      <div class="bg-accent/20 p-3 rounded-full">
        <i class="ph ph-check-circle text-accent text-2xl"></i>
      </div>
    </div>
  </div>

  <!-- SEARCH -->
  <div class="flex gap-3">
    <div class="relative flex-1">
      <i class="ph ph-magnifying-glass absolute left-3 top-3 text-gray-400"></i>
      <input
        id="searchInput"
        oninput="filterClasses()"
        placeholder="Search by class name or subject"
        class="w-full pl-10 pr-4 py-2 border border-muted rounded-lg focus:outline-none focus:ring-2 focus:ring-accent"
      />
    </div>

    <button class="bg-light border border-muted px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-muted transition">
      <i class="ph ph-funnel"></i> Filter
    </button>
  </div>

  <!-- TITLE -->
  <h2 class="text-lg font-semibold flex items-center gap-2 text-primary">
    <i class="ph ph-clock"></i> Today's Schedule
  </h2>

  <!-- CLASSES -->
  <div id="classGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"></div>

  <!-- EMPTY STATE -->
  <p id="emptyState" class="hidden text-center text-gray-500 mt-8">
    No class found
  </p>
</div>

<!-- ================= SCRIPT ================= -->
<script>
const classes = [
  {
    time: "09:00 - 10:30 AM",
    status: "Pending",
    name: "Biology 101",
    info: "Grade 10 • Section B • Room 304",
    students: "24/28 Present"
  },
  {
    time: "08:00 - 08:45 AM",
    status: "Completed",
    name: "Homeroom",
    info: "Grade 10 • Room 304",
    students: "28/30 Present"
  },
  {
    time: "11:00 - 12:00 PM",
    status: "Completed",
    name: "Chemistry Lab",
    info: "Grade 11 • Section A • Science Block B",
    students: "22/25 Present"
  },
  {
    time: "01:00 - 02:30 PM",
    status: "Upcoming",
    name: "Study Hall",
    info: "Mixed Grade • Library",
    students: "15 Students Assigned"
  }
];

const grid = document.getElementById("classGrid");
const emptyState = document.getElementById("emptyState");

function badge(status) {
  if (status === "Completed") return "bg-green-100 text-green-700";
  if (status === "Pending") return "bg-yellow-100 text-yellow-700";
  return "bg-muted text-gray-700";
}

function render(data) {
  grid.innerHTML = "";
  emptyState.classList.toggle("hidden", data.length !== 0);

  data.forEach(c => {
    const isCompleted = c.status === "Completed";

    grid.innerHTML += `
      <div class="bg-white rounded-xl border border-muted p-5 flex flex-col justify-between hover:shadow-md transition">
        <div class="flex flex-col h-full">
          <div class="flex justify-between items-center mb-3">
            <span class="text-sm bg-primary/10 text-primary px-3 py-1 rounded-full">
              ${c.time}
            </span>
            <span class="text-sm px-3 py-1 rounded-full ${badge(c.status)}">
              ${c.status}
            </span>
          </div>

          <h3 class="font-bold text-lg text-primary">${c.name}</h3>
          <p class="text-sm text-gray-500 mt-1">${c.info}</p>
          <p class="text-sm text-accent font-medium mt-auto pt-3">
            ${c.students}
          </p>
        </div>

        ${
          isCompleted
            ? `
            <button
              disabled
              class="mt-4 w-full max-w-[295px] bg-muted text-gray-500 rounded-lg py-2 cursor-not-allowed opacity-70"
            >
              Attendance Taken
            </button>
          `
            : `
            <a href="./schoolAttendancePage.html" class="flex justify-center mt-4">
              <button
                class="w-full max-w-[295px] bg-[#2A4759] text-[#F79B72] rounded-lg py-2 flex justify-center items-center gap-2 duration-150 ease-in-out hover:bg-light hover:text-accent"
              >
                Take Attendance
              </button>
            </a>
          `
        }
      </div>
    `;
  });
}


function filterClasses() {
  const q = searchInput.value.toLowerCase();
  const filtered = classes.filter(c =>
    c.name.toLowerCase().includes(q) ||
    c.info.toLowerCase().includes(q)
  );
  render(filtered);
}

render(classes);
</script>

</body>
</html>
